<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch API Example</title>
    <link rel="stylesheet" href="../data/css/style.css">
    <script src="../script.js"></script>
    <script src="../data/character/char_class/char_class.js"></script>
    <script src="../data/weapon/weapon_class/weapon_class.js"></script>
    <script src="../data/artifact/af_class.js"></script>
    <script src="../show_char_statsform5.js"></script>
    <script src="../show_weapon_statsform.js"></script>
    <script src="../show_artifact.js"></script>
    <script src="../show_attackmethod.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"></script>
    <style>
        input[type="text"] {
            padding: 10px;
            font-size: 16px;
            width: 100%;
            margin-top: 20px;
        }

        @media (min-width: 768px) {
            .image-grid {
                margin: 0 auto; /* 左右の余白を自動的に均等に設定 */
                max-width: 480px; /* 最大の横幅を設定 */
                display: grid;
                grid-template-columns: repeat(4, 1fr); /* 4列のグリッド */
                grid-template-rows: repeat(2, 1fr); /* 2行のグリッド */
                gap: 20px; /* 画像の間隔 */
            }
        .image-grid img {
                width: 100%; /* 画像の幅を100%に設定 */
                height: auto; /* アスペクト比を維持したまま高さを自動調整 */
            }
        }

        @media (max-width: 767px) {
            .image-grid {
                margin: 0 auto; /* 左右の余白を自動的に均等に設定 */
                display: grid;
                grid-template-columns: repeat(4, 1fr); /* 4列のグリッド */
                grid-template-rows: repeat(2, 1fr); /* 2行のグリッド */
                gap: 10px; /* 画像の間隔 */
            }
        .image-grid img {
                width: 100%; /* 画像の幅を100%に設定 */
                height: auto; /* アスペクト比を維持したまま高さを自動調整 */
            }
        }

        /* 画像を左上から順に配置 */
        .image-grid img:nth-child(n) {
            grid-column: auto; /* 列の位置は自動 */
            grid-row: auto; /* 行の位置は自動 */
        }

        .image-grid img:nth-child(1) { grid-column: 1; grid-row: 1; }
        .image-grid img:nth-child(2) { grid-column: 2; grid-row: 1; }
        .image-grid img:nth-child(3) { grid-column: 3; grid-row: 1; }
        .image-grid img:nth-child(4) { grid-column: 4; grid-row: 1; }
        .image-grid img:nth-child(5) { grid-column: 1; grid-row: 2; }
        .image-grid img:nth-child(6) { grid-column: 2; grid-row: 2; }
        .image-grid img:nth-child(7) { grid-column: 3; grid-row: 2; }
        .image-grid img:nth-child(8) { grid-column: 4; grid-row: 2; }

        footer {
            padding: 5px;
            text-align: center;
        }
        footer p {
            font-size: 10px; /* または適切なサイズに調整 */
        }
    </style>
</head>
<body>
    <input type="checkbox" id="drawer-toggle" name="drawer-toggle"/>
    <label for="drawer-toggle" id="drawer-toggle-label"></label>
    <header style="font-size: 24px;"><a href="./index.html">聖遺物最適化スコア計算機</a></header>
    <nav id="drawer">
    <ul>
      <li><a href="./index.html">・最適化スコア計算機</a></li>
      <li><a href="./HTML/fix_score.html">・スコア指定計算機</a></li>
      <li><a href="./HTML/any_method.html">・技任意計算機テスト中</a></li>
      <li><a href="./HTML/index3.html">・使い方</a></li>
      <li><a href="./HTML/policy.html">・プライバシーポリシー</a></li>
      <li><a href="./HTML/index4.html">・お問い合わせ</a></li>
    </ul>
    </nav>
    <div id="page-content">
        <input type="text" id="uidInput" placeholder="UIDを入力してください" style="width: 150px;">
        <br>
        <br>
        <button id="fetchButton">データを取得する</button>
        <br>
        <div id="nickname">
        </div>
        <br>
        <br>
        <div class="image-grid" id="imageGrid">
        </div>
        <br>
        <br>
        <div class="wrapper">
            <div>
                <div>
                    <div>
                        <table>
                            <td id = choose_char_weapon >
                                <fieldset id="CharLevel" style="font-size: smaller; width: 100px; height: 25px; position: relative;">
                                    <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">Lv.</span>
                                </fieldset>
                                <br>
                                <fieldset id="CharConstellations" style="font-size: smaller; width: 100px; height: 25px; position: relative;">
                                    <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">C</span>
                                </fieldset>
                                
                            </td>
                            <td>
                                <label class="open_char" for="pop-up_char">
                                    <div id = "CharImage">
                                        <img class="popup-image" src="../character/nahida.webp" alt="画像の説明" style="width: 150px; height: 150px; border-radius: 5%;">
                                    </div>
                                </label>
                                <div id="Charindex-display" style=" display: flex; justify-content: center; align-items: center;">
                                </div>
                            </td>
                        </table>
                    </div>
                    <br>
                    <table>
                        <div>
                            <td>
                                <select id="weapon_level" style="width: 100px; height: 25px;">
                                <option value="60+">60+</option>
                                <option value="70">70</option>
                                <option value="70+">70+</option>
                                <option value="80">80</option>
                                <option value="80+">80+</option>
                                <option value="90" selected>90</option>
                                </select>
                                <br>
                                <select id="weapon_rank" style="width: 100px; height: 25px;">
                                <option value="1" selected>R1</option>
                                <option value="2">R2</option>
                                <option value="3">R3</option>
                                <option value="4">R4</option>
                                <option value="5">R5</option>
                                </select>
                            </td>
                            <td>
                                <label class="open_weapon" for="pop-up_weapon">
                                <img class="popup-image" src="../weapon_img/Catalyst/AThousandFloatingDreams.webp" alt="画像の説明" style="width: 150px; height: 150px; border-radius: 5%;">
                                </label>
                                <input type="checkbox" id="pop-up_weapon">
                                <div class="overlay_weapon">
                                <div class="window">
                                    <div class="table-container1">
                                    <div class="Weapon_images">
                                        <div class="flex-container1">
                                        <div class="sword"><img id="155" class="weapon-image" src="../weapon_img/Sword/SplendorOfTranquilWaters.webp"></div>
                                        <div class="sword"><img id="0" class="weapon-image" src="../weapon_img/Sword/LightofFoliarIncision.webp"></div>
                                        <div class="sword"><img id="1" class="weapon-image" src="../weapon_img/Sword/KeyofKhajNisut.webp"></div>
                                        <div class="sword"><img id="2" class="weapon-image" src="../weapon_img/Sword/HaranGeppakuFutsu.webp"></div>
                                        <div class="sword"><img id="3" class="weapon-image" src="../weapon_img/Sword/MistsplitterReforged.webp"></div>
                                        <div class="sword"><img id="4" class="weapon-image" src="../weapon_img/Sword/FreedomSworn.webp"></div>
                                        <div class="sword"><img id="5" class="weapon-image" src="../weapon_img/Sword/PrimordialJadeCutter.webp"></div>
                                        <div class="sword"><img id="6" class="weapon-image" src="../weapon_img/Sword/SummitShaper.webp"></div>
                                        <div class="sword"><img id="7" class="weapon-image" src="../weapon_img/Sword/SkywardBlade.webp"></div>
                                        <div class="sword"><img id="8" class="weapon-image" src="../weapon_img/Sword/AquilaFavonia.webp"></div>
                                        <div class="sword"><img id="9" class="weapon-image" src="../weapon_img/Sword/TheDockhandsAssistant.webp"></div>
                                        <div class="sword"><img id="10" class="weapon-image" src="../weapon_img/Sword/WolfFang.webp"></div>
                                        <div class="sword"><img id="11" class="weapon-image" src="../weapon_img/Sword/FleuveCendreFerryman.webp"></div>
                                        <div class="sword"><img id="12" class="weapon-image" src="../weapon_img/Sword/FinaleoftheDeep.webp"></div>
                                        <div class="sword"><img id="13" class="weapon-image" src="../weapon_img/Sword/ToukabouShigure.webp"></div>
                                        <div class="sword"><img id="14" class="weapon-image" src="../weapon_img/Sword/XiphosMoonlight.webp"></div>
                                        <div class="sword"><img id="15" class="weapon-image" src="../weapon_img/Sword/SapwoodBlade.webp"></div>
                                        <div class="sword"><img id="16" class="weapon-image" src="../weapon_img/Sword/KagotsurubeIsshin.webp"></div>
                                        <div class="sword"><img id="17" class="weapon-image" src="../weapon_img/Sword/CinnabarSpindle.webp"></div>
                                        <div class="sword"><img id="18" class="weapon-image" src="../weapon_img/Sword/AmenomaKageuchi.webp"></div>
                                        <div class="sword"><img id="19" class="weapon-image" src="../weapon_img/Sword/TheAlleyFlash.webp"></div>
                                        <div class="sword"><img id="20" class="weapon-image" src="../weapon_img/Sword/FesteringDesire.webp"></div>
                                        <div class="sword"><img id="21" class="weapon-image" src="../weapon_img/Sword/TheBlackSword.webp"></div>
                                        <div class="sword"><img id="22" class="weapon-image" src="../weapon_img/Sword/BlackcliffLongsword.webp"></div>
                                        <div class="sword"><img id="23" class="weapon-image" src="../weapon_img/Sword/IronSting.webp"></div>
                                        <div class="sword"><img id="24" class="weapon-image" src="../weapon_img/Sword/PrototypeRancour.webp"></div>
                                        <div class="sword"><img id="25" class="weapon-image" src="../weapon_img/Sword/LionsRoar.webp"></div>
                                        <!--<div class="sword"><img id="26" class="weapon-image" src="../weapon_img/Sword/RoyalLongsword.webp"></div>-->
                                        <div class="sword"><img id="27" class="weapon-image" src="../weapon_img/Sword/SacrificialSword.webp"></div>
                                        <div class="sword"><img id="28" class="weapon-image" src="../weapon_img/Sword/TheFlute.webp"></div>
                                        <div class="sword"><img id="29" class="weapon-image" src="../weapon_img/Sword/FavoniusSword.webp"></div>
                                        <div class="sword"><img id="30" class="weapon-image" src="../weapon_img/Sword/SkyriderSword.webp"></div>
                                        <div class="sword"><img id="31" class="weapon-image" src="../weapon_img/Sword/FilletBlade.webp"></div>
                                        <div class="sword"><img id="32" class="weapon-image" src="../weapon_img/Sword/TravelersHandySword.webp"></div>
                                        <div class="sword"><img id="33" class="weapon-image" src="../weapon_img/Sword/HarbingerofDawn.webp"></div>
                                        <div class="sword"><img id="34" class="weapon-image" src="../weapon_img/Sword/CoolSteel.webp"></div>
                                        <div class="claymore"><img id="156" class="weapon-image" src="../weapon_img/Claymore/Verdict.webp"></div>
                                        <div class="claymore"><img id="35" class="weapon-image" src="../weapon_img/Claymore/BeaconoftheReedSea.webp"></div>
                                        <div class="claymore"><img id="36" class="weapon-image" src="../weapon_img/Claymore/RedhornStonethresher.webp"></div>
                                        <div class="claymore"><img id="37" class="weapon-image" src="../weapon_img/Claymore/SongofBrokenPines.webp"></div>
                                        <div class="claymore"><img id="38" class="weapon-image" src="../weapon_img/Claymore/TheUnforged.webp"></div>
                                        <div class="claymore"><img id="39" class="weapon-image" src="../weapon_img/Claymore/WolfsGravestone.webp"></div>
                                        <div class="claymore"><img id="40" class="weapon-image" src="../weapon_img/Claymore/SkywardPride.webp"></div>
                                        <div class="claymore"><img id="157" class="weapon-image" src="../weapon_img/Claymore/UltimateTyrantSuperDevilSword.webp"></div>
                                        <div class="claymore"><img id="41" class="weapon-image" src="../weapon_img/Claymore/PortablePowerSaw.webp"></div>
                                        <div class="claymore"><img id="42" class="weapon-image" src="../weapon_img/Claymore/TalkingStick.webp"></div>
                                        <div class="claymore"><img id="43" class="weapon-image" src="../weapon_img/Claymore/TidalShadow.webp"></div>
                                        <div class="claymore"><img id="44" class="weapon-image" src="../weapon_img/Claymore/MailedFlower.webp"></div>
                                        <div class="claymore"><img id="45" class="weapon-image" src="../weapon_img/Claymore/MakhairaAquamarine.webp"></div>
                                        <div class="claymore"><img id="46" class="weapon-image" src="../weapon_img/Claymore/ForestRegalia.webp"></div>
                                        <div class="claymore"><img id="47" class="weapon-image" src="../weapon_img/Claymore/Akuoumaru.webp"></div>
                                        <div class="claymore"><img id="48" class="weapon-image" src="../weapon_img/Claymore/LuxuriousSeaLoad.webp"></div>
                                        <div class="claymore"><img id="49" class="weapon-image" src="../weapon_img/Claymore/KatsuragikiriNagamasa.webp"></div>
                                        <div class="claymore"><img id="50" class="weapon-image" src="../weapon_img/Claymore/LithicBlade.webp"></div>
                                        <div class="claymore"><img id="51" class="weapon-image" src="../weapon_img/Claymore/SnowTombedStarsilver.webp"></div>
                                        <div class="claymore"><img id="52" class="weapon-image" src="../weapon_img/Claymore/SerpentSpine.webp"></div>
                                        <div class="claymore"><img id="53" class="weapon-image" src="../weapon_img/Claymore/BlackcliffSlasher.webp"></div>
                                        <div class="claymore"><img id="54" class="weapon-image" src="../weapon_img/Claymore/Whiteblind.webp"></div>
                                        <div class="claymore"><img id="55" class="weapon-image" src="../weapon_img/Claymore/PrototypeArchaic.webp"></div>
                                        <!--<div class="claymore"><img id="56" class="weapon-image" src="../weapon_img/Claymore/RoyalGreatsword.webp"></div>-->
                                        <div class="claymore"><img id="57" class="weapon-image" src="../weapon_img/Claymore/Rainslasher.webp"></div>
                                        <div class="claymore"><img id="58" class="weapon-image" src="../weapon_img/Claymore/SacrificialGreatsword.webp"></div>
                                        <div class="claymore"><img id="59" class="weapon-image" src="../weapon_img/Claymore/TheBell.webp"></div>
                                        <div class="claymore"><img id="60" class="weapon-image" src="../weapon_img/Claymore/FavoniusGreatsword.webp"></div>
                                        <div class="claymore"><img id="61" class="weapon-image" src="../weapon_img/Claymore/SkyriderGreatsword.webp"></div>
                                        <div class="claymore"><img id="62" class="weapon-image" src="../weapon_img/Claymore/DebateClub.webp"></div>
                                        <div class="claymore"><img id="63" class="weapon-image" src="../weapon_img/Claymore/WhiteIronGreatsword.webp"></div>
                                        <div class="claymore"><img id="64" class="weapon-image" src="../weapon_img/Claymore/BloodtaintedGreatsword.webp"></div>
                                        <div class="claymore"><img id="65" class="weapon-image" src="../weapon_img/Claymore/FerrousShadow.webp"></div>
                                        <div class="polearm"><img id="66" class="weapon-image" src="../weapon_img/Polearm/StaffoftheScarletSands.webp"></div>
                                        <div class="polearm"><img id="67" class="weapon-image" src="../weapon_img/Polearm/CalamityQueller.webp"></div>
                                        <div class="polearm"><img id="68" class="weapon-image" src="../weapon_img/Polearm/EngulfingLightning.webp"></div>
                                        <div class="polearm"><img id="69" class="weapon-image" src="../weapon_img/Polearm/StaffofHoma.webp"></div>
                                        <div class="polearm"><img id="70" class="weapon-image" src="../weapon_img/Polearm/VortexVanguisher.webp"></div>
                                        <div class="polearm"><img id="71" class="weapon-image" src="../weapon_img/Polearm/SkywardSpine.webp"></div>
                                        <div class="polearm"><img id="72" class="weapon-image" src="../weapon_img/Polearm/PrimordialJadeWingedSpear.webp"></div>
                                        <div class="polearm"><img id="73" class="weapon-image" src="../weapon_img/Polearm/BalladoftheFjords.webp"></div>
                                        <div class="polearm"><img id="74" class="weapon-image" src="../weapon_img/Polearm/RightfulReward.webp"></div>
                                        <div class="polearm"><img id="75" class="weapon-image" src="../weapon_img/Polearm/MissiveWindspear.webp"></div>
                                        <div class="polearm"><img id="76" class="weapon-image" src="../weapon_img/Polearm/Moonpiercer.webp"></div>
                                        <div class="polearm"><img id="77" class="weapon-image" src="../weapon_img/Polearm/WavebreakersFin.webp"></div>
                                        <div class="polearm"><img id="78" class="weapon-image" src="../weapon_img/Polearm/TheCatch.webp"></div>
                                        <div class="polearm"><img id="79" class="weapon-image" src="../weapon_img/Polearm/KitainCrossSpear.webp"></div>
                                        <div class="polearm"><img id="80" class="weapon-image" src="../weapon_img/Polearm/LithicSpear.webp"></div>
                                        <div class="polearm"><img id="81" class="weapon-image" src="../weapon_img/Polearm/DragonspineSpear.webp"></div>
                                        <!--<div class="polearm"><img id="82" class="weapon-image" src="../weapon_img/Polearm/RoyalSpear.webp"></div>-->
                                        <div class="polearm"><img id="83" class="weapon-image" src="../weapon_img/Polearm/FavoniusLance.webp"></div>
                                        <div class="polearm"><img id="84" class="weapon-image" src="../weapon_img/Polearm/Deathmatch.webp"></div>
                                        <div class="polearm"><img id="85" class="weapon-image" src="../weapon_img/Polearm/BlackcliffPole.webp"></div>
                                        <div class="polearm"><img id="86" class="weapon-image" src="../weapon_img/Polearm/CrescentPike.webp"></div>
                                        <div class="polearm"><img id="87" class="weapon-image" src="../weapon_img/Polearm/PrototypeStarglitter.webp"></div>
                                        <div class="polearm"><img id="88" class="weapon-image" src="../weapon_img/Polearm/DragonsBane.webp"></div>
                                        <div class="polearm"><img id="89" class="weapon-image" src="../weapon_img/Polearm/BlackTassel.webp"></div>
                                        <div class="polearm"><img id="90" class="weapon-image" src="../weapon_img/Polearm/WhiteTassel.webp"></div>
                                        <div class="bow"><img id="91" class="weapon-image" src="../weapon_img/Bow/TheFirstGreatMagic.webp"></div>
                                        <div class="bow"><img id="92" class="weapon-image" src="../weapon_img/Bow/Hunter'sPath.webp"></div>
                                        <div class="bow"><img id="93" class="weapon-image" src="../weapon_img/Bow/AquaSimulacra.webp"></div>
                                        <div class="bow"><img id="94" class="weapon-image" src="../weapon_img/Bow/PolarStar.webp"></div>
                                        <div class="bow"><img id="95" class="weapon-image" src="../weapon_img/Bow/ThunderingPulse.webp"></div>
                                        <div class="bow"><img id="96" class="weapon-image" src="../weapon_img/Bow/ElegyfortheEnd.webp"></div>
                                        <div class="bow"><img id="97" class="weapon-image" src="../weapon_img/Bow/AmosBow.webp"></div>
                                        <div class="bow"><img id="98" class="weapon-image" src="../weapon_img/Bow/SkywardHarp.webp"></div>
                                        <div class="bow"><img id="99" class="weapon-image" src="../weapon_img/Bow/ScionoftheBlazingSun.webp"></div>
                                        <div class="bow"><img id="100" class="weapon-image" src="../weapon_img/Bow/SongofStillness.webp"></div>
                                        <div class="bow"><img id="101" class="weapon-image" src="../weapon_img/Bow/IbisPiercer.webp"></div>
                                        <div class="bow"><img id="102" class="weapon-image" src="../weapon_img/Bow/KingsSquire.webp"></div>
                                        <div class="bow"><img id="103" class="weapon-image" src="../weapon_img/Bow/EndoftheLine.webp"></div>
                                        <div class="bow"><img id="104" class="weapon-image" src="../weapon_img/Bow/FadingTwilight.webp"></div>
                                        <div class="bow"><img id="105" class="weapon-image" src="../weapon_img/Bow/MouunsMoon.webp"></div>
                                        <div class="bow"><img id="106" class="weapon-image" src="../weapon_img/Bow/Hamayumi.jpg"></div>
                                        <div class="bow"><img id="107" class="weapon-image" src="../weapon_img/Bow/MitternachtsWaltz.webp"></div>
                                        <div class="bow"><img id="108" class="weapon-image" src="../weapon_img/Bow/WindblumeOde.webp"></div>
                                        <div class="bow"><img id="109" class="weapon-image" src="../weapon_img/Bow/AlleyHunter.webp"></div>
                                        <div class="bow"><img id="110" class="weapon-image" src="../weapon_img/Bow/TheViridescentHunt.webp"></div>
                                        <div class="bow"><img id="111" class="weapon-image" src="../weapon_img/Bow/BlackcliffWarbow.webp"></div>
                                        <div class="bow"><img id="112" class="weapon-image" src="../weapon_img/Bow/CompoundBow.webp"></div>
                                        <div class="bow"><img id="113" class="weapon-image" src="../weapon_img/Bow/PrototypeCrescent.webp"></div>
                                        <div class="bow"><img id="114" class="weapon-image" src="../weapon_img/Bow/Rust.webp"></div>
                                        <!--<div class="bow"><img id="115" class="weapon-image" src="../weapon_img/Bow/RoyalBow.webp"></div>-->
                                        <div class="bow"><img id="116" class="weapon-image" src="../weapon_img/Bow/SacrificialBow.webp"></div>
                                        <div class="bow"><img id="117" class="weapon-image" src="../weapon_img/Bow/TheStringless.webp"></div>
                                        <div class="bow"><img id="118" class="weapon-image" src="../weapon_img/Bow/FavoniusWarbow.webp"></div>
                                        <div class="bow"><img id="119" class="weapon-image" src="../weapon_img/Bow/Messenger.webp"></div>
                                        <div class="bow"><img id="120" class="weapon-image" src="../weapon_img/Bow/Slingshot.webp"></div>
                                        <div class="bow"><img id="121" class="weapon-image" src="../weapon_img/Bow/RecurveBow.webp"></div>
                                        <div class="bow"><img id="122" class="weapon-image" src="../weapon_img/Bow/SharpshootersOath.webp"></div>
                                        <div class="bow"><img id="123" class="weapon-image" src="../weapon_img/Bow/RavenBow.webp"></div>
                                        <div class="catalyst"><img id="154" class="weapon-image" src="../weapon_img/Catalyst/CashflowSupervision.webp"></div>
                                        <div class="catalyst"><img id="124" class="weapon-image" src="../weapon_img/Catalyst/TomeoftheEternalFlow.webp"></div>
                                        <div class="catalyst"><img id="125" class="weapon-image" src="../weapon_img/Catalyst/JadefallsSplendor.webp"></div>
                                        <div class="catalyst"><img id="126" class="weapon-image" src="../weapon_img/Catalyst/TulaytullahsRemembrance.webp"></div>
                                        <div class="catalyst"><img id="127" class="weapon-image" src="../weapon_img/Catalyst/AThousandFloatingDreams.webp"></div>
                                        <div class="catalyst"><img id="128" class="weapon-image" src="../weapon_img/Catalyst/KagurasVerity.webp"></div>
                                        <div class="catalyst"><img id="129" class="weapon-image" src="../weapon_img/Catalyst/EverlastingMoonglow.webp"></div>
                                        <div class="catalyst"><img id="130" class="weapon-image" src="../weapon_img/Catalyst/MemoryofDust.webp"></div>
                                        <div class="catalyst"><img id="131" class="weapon-image" src="../weapon_img/Catalyst/LostPrayertotheSacredWinds.webp"></div>
                                        <div class="catalyst"><img id="132" class="weapon-image" src="../weapon_img/Catalyst/SkywardAtlas.webp"></div>
                                        <div class="catalyst"><img id="133" class="weapon-image" src="../weapon_img/Catalyst/BalladOfTheBoundlessBlue.webp"></div>
                                        <div class="catalyst"><img id="134" class="weapon-image" src="../weapon_img/Catalyst/SacrificialJade.webp"></div>
                                        <div class="catalyst"><img id="135" class="weapon-image" src="../weapon_img/Catalyst/FlowingPurity.webp"></div>
                                        <div class="catalyst"><img id="136" class="weapon-image" src="../weapon_img/Catalyst/WanderingEvenstar.webp"></div>
                                        <div class="catalyst"><img id="137" class="weapon-image" src="../weapon_img/Catalyst/FruitofFulfillment.webp"></div>
                                        <div class="catalyst"><img id="138" class="weapon-image" src="../weapon_img/Catalyst/OathswornEye.webp"></div>
                                        <div class="catalyst"><img id="139" class="weapon-image" src="../weapon_img/Catalyst/HakushinRing.webp"></div>
                                        <div class="catalyst"><img id="140" class="weapon-image" src="../weapon_img/Catalyst/DodocoTales.webp"></div>
                                        <div class="catalyst"><img id="141" class="weapon-image" src="../weapon_img/Catalyst/WineandSong.webp"></div>
                                        <div class="catalyst"><img id="142" class="weapon-image" src="../weapon_img/Catalyst/Frostbearer.webp"></div>
                                        <div class="catalyst"><img id="143" class="weapon-image" src="../weapon_img/Catalyst/EyeofPerception.webp"></div>
                                        <div class="catalyst"><img id="144" class="weapon-image" src="../weapon_img/Catalyst/BlackcliffAgate.webp"></div>
                                        <div class="catalyst"><img id="145" class="weapon-image" src="../weapon_img/Catalyst/MappaMare.webp"></div>
                                        <div class="catalyst"><img id="146" class="weapon-image" src="../weapon_img/Catalyst/PrototypeAmber.webp"></div>
                                        <div class="catalyst"><img id="147" class="weapon-image" src="../weapon_img/Catalyst/SolarPearl.webp"></div>
                                        <!--<div class="catalyst"><img id="148" class="weapon-image" src="../weapon_img/Catalyst/RoyalGrimoire.webp"></div>-->
                                        <div class="catalyst"><img id="149" class="weapon-image" src="../weapon_img/Catalyst/SacrificialFragments.webp"></div>
                                        <div class="catalyst"><img id="150" class="weapon-image" src="../weapon_img/Catalyst/TheWidsith.webp"></div>
                                        <div class="catalyst"><img id="151" class="weapon-image" src="../weapon_img/Catalyst/FavoniusCodex.webp"></div>
                                        <div class="catalyst"><img id="152" class="weapon-image" src="../weapon_img/Catalyst/ThrillingTalesofDragonSlayers.webp"></div>
                                        <div class="catalyst"><img id="153" class="weapon-image" src="../weapon_img/Catalyst/MagicGuide.webp"></div>
                                        </div>
                                    </div>
                                    </div>
                                </div>
                                </div>
                                <div id="Weaponindex-display" style = "display: flex; justify-content: center; align-items: center;"></div>
                            </td>
                        </div>
                    </table>
                </div>
                <fieldset id="attack-setting" style="margin-bottom: 20px; margin-top: 20px; max-width: 476px;">
                    <legend>攻撃方法の設定</legend>
                    <table>
                        <td>
                            <div id="attack_method">
                            </div>
                        </td>
                        <td>
                            <select id="talent-level">
                                <option disabled selected>天賦レベル</option>
                                <option value="1">Lv.1</option>
                                <option value="2">Lv.2</option>
                                <option value="3">Lv.3</option>
                                <option value="4">Lv.4</option>
                                <option value="5">Lv.5</option>
                                <option value="6">Lv.6</option>
                                <option value="7">Lv.7</option>
                                <option value="8">Lv.8</option>
                                <option value="9">Lv.9</option>
                                <option value="10">Lv.10</option>
                                <option value="11">Lv.11</option>
                                <option value="12">Lv.12</option>
                                <option value="13">Lv.13</option>
                            </select>
                        </td>
                    </table>
                    <span class="property">スキルプロパティ</span>        
                    <br>
                    <span id = "attack_method_prop">
                    </span>
                    <br>
                    <span class="property">元素反応</span>
                    <div id = "element_action">
                    </div>
                    <br>
                    <span class="property">蒸発、溶解反応箇所</span>
                    <div id = "select_reaction_method">
                    </div>
                </fieldset>
            </div>
            <div>
                <div>
                    <label class="open" for="pop-up" style="display: inline-block;">
                        <img class="popup-image" src="../artifact/迷宮の遊客_5.png" alt="画像の説明" style="width: 100px; height: 100px; border-radius: 5%;">
                        <img class="popup-image" src="../artifact/迷宮の遊客_5.png" alt="画像の説明" style="width: 100px; height: 100px; border-radius: 5%;">
                    </label>
                </div>
                <br>
                <select id="clock_mainstatus">
                    <option disabled selected >時計メインステ</option>
                    <option value="0">HP％</option>
                    <option value="4">攻撃力％</option>
                    <option value="1">防御力％</option>
                    <option value="2">元素熟知</option>
                    <option value="3">元素チャージ効率</option>
                </select>
                <select id="goblet_mainstatus">
                    <option disabled selected>杯メインステ</option>
                    <option value="0">HP％</option>
                    <option value="4">攻撃力％</option>
                    <option value="1">防御力％</option>
                    <option value="2">元素熟知</option>
                    <option value="7">元素ダメージバフ</option> 
                    <option value="8">物理ダメージバフ</option> 
                </select>
                <select id="circlet_mainstatus">
                    <option disabled selected>冠メインステ</option>
                    <option value="0">HP％</option>
                    <option value="4">攻撃力％</option>
                    <option value="1">防御力％</option>
                    <option value="2">元素熟知</option>
                    <option value="5">会心率</option>  
                    <option value="6">会心ダメージ</option>  
                </select>
                <div id="index-display"></div>
                <fieldset id="artifactInfo" style="max-width: 476px;">
                    <legend>聖遺物情報</legend>
                    <p id="set_eff1">セット効果1: </p>
                    <p id="set_eff2">セット効果2: </p>
                </fieldset>
            </div>
        </div>
        <br>
        <br>
        <div class="wrapper">
            <div>
                <div id="team_buff_info">
                    <form class="team-buff-form">
                        <table class="table-borderless" style="width: auto;">
                        <thead>
                            <tr>
                            <th></th>
                            <th>固定値バフ</th>
                            <th></th>
                            <th>変動バフ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr id="team_hp_form" style="display: none;">
                            <td><label for="fix_hp_buff">HP実数値</label></td>
                            <td>
                                <div>
                                <input type="number" id="fix_hp_buff" required min="0" name="fix_hp_buff" placeholder="HP実数値">
                                </div>
                            </td>
                            <td></td>
                            <td>
                                <div>
                                <input type="number" id="dynamic_hp_buff" required min="0" name="dynamic_hp_buff" placeholder="HP実数値">
                                </div>
                            </td>
                            </tr>
                            <tr id="team_hprate_form" style="display: none;">
                            <td><label for="fix_hp%_buff">HP%</label></td>
                            <td>
                                <div>
                                <input type="number" id="fix_hp%_buff" required min="0" name="fix_hp%_buff" placeholder="HP%">(%)
                                </div>
                            </td>
                            <td></td>
                            <td>
                                <div>
                                <input type="number" id="dynamic_hp%_buff" required min="0" name="dynamic_hp%_buff" placeholder="HP%">(%)
                                </div>
                            </td>
                            </tr>
                            <tr id="team_attack_form" style="display: none;">
                            <td><label for="fix_attack_buff">攻撃力実数値</label></td>
                            <td>
                                <div>
                                <input type="number" id="fix_attack_buff" required min="0" name="fix_attack_buff" placeholder="攻撃力実数値">
                                </div>
                            </td>
                            <td></td>
                            <td>
                                <div>
                                <input type="number" id="dynamic_attack_buff" required min="0" name="dynamic_attack_buff" placeholder="攻撃力実数値">
                                </div>
                            </td>
                            </tr>
                            <tr id="team_attackrate_form" style="display: none;">
                            <td><label for="fix_attack%_buff">攻撃力％</label></td>
                            <td>
                                <div>
                                <input type="number" id="fix_attack%_buff" required min="0" name="fix_attack%_buff" placeholder="攻撃力％">(%)
                                </div>
                            </td>
                            <td></td>
                            <td>
                                <div>
                                <input type="number" id="dynamic_attack%_buff" required min="0" name="dynamic_attack%_buff" placeholder="攻撃力％">(%)
                                </div>
                            </td>
                            </tr>
                            <tr id="team_deff_form" style="display: none;">
                            <td><label for="fix_deff_buff">防御力実数値</label></td>
                            <td>
                                <div>
                                <input type="number" id="fix_deff_buff" required min="0" name="fix_deff_buff" placeholder="防御力実数値">
                                </div>
                            </td>
                            <td></td>
                            <td>
                                <div>
                                <input type="number" id="dynamic_deff_buff" required min="0" name="dynamic_deff_buff" placeholder="防御力実数値">
                                </div>
                            </td>
                            </tr>
                            <tr id="team_deffrate_form" style="display: none;">
                            <td><label for="fix_deff%_buff">防御力％</label></td>
                            <td>
                                <div>
                                <input type="number" id="fix_deff%_buff" required min="0" name="fix_deff%_buff" placeholder="防御力％">(%)
                                </div>
                            </td>
                            <td></td>
                            <td>
                                <div>
                                <input type="number" id="dynamic_deff%_buff" required min="0" name="dynamic_deff%_buff" placeholder="防御力％">(%)
                                </div>
                            </td>
                            </tr>
                            <tr id="team_elm_form" style="display: none;">
                            <td><label for="fix_elm_buff">元素熟知</label></td>
                            <td>
                                <div>
                                <input type="number" id="fix_elm_buff" required min="0" name="fix_elm_buff" placeholder="元素熟知">
                                </div>
                            </td>
                            <td></td>
                            <td>
                                <div>
                                <input type="number" id="dynamic_elm_buff" required min="0" name="dynamic_elm_buff" placeholder="元素熟知">
                                </div>
                            </td>
                            </tr>
                            <tr id="team_elm_charge_form" style="display: none;">
                            <td><label for="fix_elm_charge_buff">元素チャージ効率</label></td>
                            <td>
                                <div>
                                <input type="number" id="fix_elm_charge_buff" required min="0" name="fix_elm_charge_buff" placeholder="元素チャージ効率">(%)
                                </div>
                            </td>
                            <td></td>
                            <td>
                                <div>
                                <input type="number" id="dynamic_elm_charge_buff" required min="0" name="dynamic_elm_charge_buff" placeholder="元素チャージ効率">(%)
                                </div>
                            </td>
                            </tr>
                            <tr id="team_cr_form" style="display: none;">
                            <td><label for="fix_cr_buff">会心率</label></td>
                            <td>
                                <div>
                                <input type="number" id="fix_cr_buff" required min="0" name="fix_cr_buff" placeholder="会心率">(%)
                                </div>
                            </td>
                            <td></td>
                            <td>
                                <div>
                                <input type="number" id="dynamic_cr_buff" required min="0" name="dynamic_cr_buff" placeholder="会心率">(%)
                                </div>
                            </td>
                            </tr>
                            <tr id="team_cd_form" style="display: none;">
                            <td><label for="fix_cd_buff">会心ダメージ</label></td>
                            <td>
                                <div>
                                <input type="number" id="fix_cd_buff" required min="0" name="fix_cd_buff" placeholder="会心ダメージ">(%)
                                </div>
                            </td>
                            <td></td>
                            <td>
                                <div>
                                <input type="number" id="dynamic_cd_buff" required min="0" name="dynamic_cd_buff" placeholder="会心ダメージ">(%)
                                </div>
                            </td>
                            </tr>
                            <tr id="team_dmg_buff_form">
                            <td><label for="fix_dmg_buff">ダメージバフ</label></td>
                            <td>
                                <div>
                                <input type="number" id="fix_dmg_buff" required min="0" name="fix_dmg_buff" placeholder="ダメージバフ">(%)
                                </div>
                            </td>
                            <td></td>
                            <td>
                                <div>
                                <input type="number" id="dynamic_dmg_buff" required min="0" name="dynamic_dmg_buff" placeholder="ダメージバフ">(%)
                                </div>
                            </td>
                            </tr>
                            <tr id="team_basedmg_buff_form">
                            <td><label for="fix_basedmg_buff">基礎ダメージバフ/1hit</label></td>
                            <td>
                                <div>
                                <input type="number" id="fix_basedmg_buff" required min="0" name="fix_basedmg_buff" placeholder="基礎ダメージバフ">
                                </div>
                            </td>
                            <td></td>
                            <td>
                                <div>
                                <input type="number" id="dynamic_basedmg_buff" required min="0" name="dynamic_basedmg_buff" placeholder="基礎ダメージバフ">
                                </div>
                            </td>
                            </tr>
                        </tbody>
                        </table>
                    </form>
                </div>
            </div>
            <div>
                <div style = "text-align: center;">
                <button id = "parameterbutton1" class="button-1" onclick="showOption('option1', 'parameterbutton1')">キャラ＆装備</button>
                <button id = "parameterbutton2" class="button-1" onclick="showOption('option2', 'parameterbutton2')">元素共鳴</button>
                <button id = "parameterbutton3" class="button-1" onclick="showOption('option3', 'parameterbutton3')">敵ステータス</button>
                </div>
                <div class = "option-field" id = "option1">
                <fieldset style="width: auto;">
                    <legend>キャラクターバフ</legend>
                    <div id ="char_talent">
                    </div>
                    <div id ="temporary_char_talent">
                    </div>
                    <div id="characterInfo">
                    </div>
                </fieldset>
                <fieldset style="width: auto;">
                    <legend>装備バフ</legend>
                    <div id="weaponInfo">
                    </div>
                    <div id="artifact_checkbox">
                    </div>
                </fieldset>
                </div>
                <div class = "option-field" id = "option2">
                <fieldset>
                    <legend>元素共鳴</legend>
                    <label><input type="checkbox" class="custom-checkbox" id = "pyro_reso"> 炎共鳴：攻撃力+25％</label><br>
                    <label><input type="checkbox" class="custom-checkbox" id = "hydro_reso"> 水共鳴：HP+25％</label><br>
                    <label><input type="checkbox" class="custom-checkbox" id = "cyro_reso"> 氷共鳴：会心率+15％</label><br>
                    <label><input type="checkbox" class="custom-checkbox" id = "dendro_reso"> 草共鳴：元素熟知</label>
                    <select id="dendro_reso_select">
                    <option value="50">+50</option>
                    <option value="80">+80</option>
                    <option value="100">+100</option>
                    </select>
                    <br>
                    <label><input type="checkbox" class="custom-checkbox" id = "geo_reso"> 岩共鳴：ダメージバフ+15％<br>&nbsp;&nbsp;　　　　　岩元素耐性ダウン</label>
                    <select id="geo_reso_select">
                    <option value="0">0%</option>
                    <option value="20">20%</option>
                    </select>
                </fieldset>
                </div>
                <div class = "option-field" id = "option3" style = "text-align: center;">
                <div id= "enemy-status">
                    <form class="enemy-form">
                    <table>
                        <thead>
                        <tr>
                            <th></th>
                            <th>敵ステータス</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr id="enemy_level-form">
                            <td><label for="enemy-level-form">敵レベル</label></td>
                            <td>
                            <div>
                                <input type="number" id="enemy-level" required min="0" name="enemy-level" placeholder="Lv" value="90">
                            </div>
                            </td>
                        </tr>
                        <tr id="enemy-pyroresist-form">
                            <td><label for="enemy-pyroresist">炎元素耐性</label></td>
                            <td>
                            <div>
                                <input type="number" id="enemy-pyroresist" placeholder="炎元素耐性" value="10">(%)
                            </div>
                            </td>
                        </tr>
                        <tr id="pyrodebuff-form">
                            <td><label for="pyrodebuff">炎元素デバフ</label></td>
                            <td>
                            <div>
                                <input type="number" id="pyrodebuff" placeholder="炎元素耐性" value="0">(%)
                            </div>
                            </td>
                        </tr>
                        <tr id="enemy-hydroresist-form">
                            <td><label for="enemy-hydroresist">水元素耐性</label></td>
                            <td>
                            <div>
                                <input type="number" id="enemy-hydroresist" placeholder="水元素耐性" value="10">(%)
                            </div>
                            </td>
                        </tr>
                        <tr id="hydrodebuff-form">
                            <td><label for="hydrodebuff">水元素デバフ</label></td>
                            <td>
                            <div>
                                <input type="number" id="hydrodebuff" placeholder="水元素デバフ" value="0">(%)
                            </div>
                            </td>
                        </tr>
                        <tr id="enemy-cyroresist-form">
                            <td><label for="enemy-cyroresist">氷元素耐性</label></td>
                            <td>
                            <div>
                                <input type="number" id="enemy-cyroresist" placeholder="氷元素耐性" value="10">(%)
                            </div>
                            </td>
                        </tr>
                        <tr id="cyrodebuff-form">
                            <td><label for="cyrodebuff">氷元素デバフ</label></td>
                            <td>
                            <div>
                                <input type="number" id="cyrodebuff" placeholder="氷元素デバフ" value="0">(%)
                            </div>
                            </td>
                        </tr>
                        <tr id="enemy-electroresist-form">
                            <td><label for="enemy-electroresist">雷元素耐性</label></td>
                            <td>
                            <div>
                                <input type="number" id="enemy-electroresist" placeholder="雷元素耐性" value="10">(%)
                            </div>
                            </td>
                        </tr>
                        <tr id="electrodebuff-form">
                            <td><label for="electrodebuff">雷元素デバフ</label></td>
                            <td>
                            <div>
                                <input type="number" id="electrodebuff" placeholder="雷元素デバフ" value="0">(%)
                            </div>
                            </td>
                        </tr>
                        <tr id="enemy-anemoresist-form">
                            <td><label for="enemy-anemoresist">風元素耐性</label></td>
                            <td>
                            <div>
                                <input type="number" id="enemy-anemoresist" placeholder="風元素耐性" value="10">(%)
                            </div>
                            </td>
                        </tr>
                        <tr id="anemodebuff-form">
                            <td><label for="anemodebuff">風元素デバフ</label></td>
                            <td>
                            <div>
                                <input type="number" id="anemodebuff" placeholder="風元素デバフ" value="0">(%)
                            </div>
                            </td>
                        </tr>
                        <tr id="enemy-dendroresist-form">
                            <td><label for="enemy-dendroresist">草元素耐性</label></td>
                            <td>
                            <div>
                                <input type="number" id="enemy-dendroresist" placeholder="草元素耐性" value="10">(%)
                            </div>
                            </td>
                        </tr>
                        <tr id="dendrodebuff-form">
                            <td><label for="dendrodebuff">草元素デバフ</label></td>
                            <td>
                            <div>
                                <input type="number" id="dendrodebuff" placeholder="草元素デバフ" value="0">(%)
                            </div>
                            </td>
                        </tr>
                        <tr id="enemy-georesist-form">
                            <td><label for="enemy-georesist">岩元素耐性</label></td>
                            <td>
                            <div>
                                <input type="number" id="enemy-georesist" placeholder="岩元素耐性" value="10">(%)
                            </div>
                            </td>
                        </tr>
                        <tr id="geodebuff-form">
                            <td><label for="geodebuff">岩元素デバフ</label></td>
                            <td>
                            <div>
                                <input type="number" id="geodebuff" placeholder="岩元素デバフ" value="0">(%)
                            </div>
                            </td>
                        </tr>
                        <tr id="enemy-phisicsresist-form">
                            <td><label for="enemy-phisicsresist">物理耐性</label></td>
                            <td>
                            <div>
                                <input type="number" id="enemy-phisicsresist" placeholder="物理耐性" value="10">(%)
                            </div>
                            </td>
                        </tr>
                        <tr id="phisicsdebuff-form">
                            <td><label for="phisicsdebuff">物理デバフ</label></td>
                            <td>
                            <div>
                                <input type="number" id="phisicsdebuff" placeholder="物理デバフ" value="0">(%)
                            </div>
                            </td>
                        </tr>
                        <tr id="deff-debuff-form">
                            <td><label for="deff-debuff-form">防御デバフ</label></td>
                            <td>
                            <div>
                                <input type="number" id="deff-debuff" required min="0" name="deff-debuff" placeholder="防御デバフ" value="0">(%)
                            </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    </form>
                </div>
                </div>
                <br>
                <div class = "tablestyle1">
                <table  class="status_table" style="table-layout: fixed">
                    <colgroup>
                    <col style="width: 25%;">
                    <col style="width: 22%;">
                    <col style="width: 14%;">
                    <col style="width: 17%;">
                    </colgroup>
                    <thead>
                    <tr>
                        <th></th>
                        <th>基礎ステータス</th>
                        <th>バフ</th>
                        <th>聖遺物バフ</th>
                        <th>最終ステータス</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <th style="text-align: left;">
                        <span>HP</span>
                        </th>
                        <td id = table_base_hp>-</td>
                        <td id = table_buff_hp>-</td>
                        <td id = table_af_hp>-</td>
                        <td id = table_final_hp>-</td>
                    </tr>
                    <tr>
                        <th style="text-align: left;">
                        <span>攻撃力</span>
                        </th>
                        <td id = table_base_attck>-</td>
                        <td id = table_buff_attck>-</td>
                        <td id = table_af_attck>-</td>
                        <td id = table_final_attck>-</td>
                    </tr>
                    <tr>
                        <th style="text-align: left;">
                        <span>防御力</span>
                        </th>
                        <td id = table_base_deff>-</td>
                        <td id = table_buff_deff>-</td>
                        <td id = table_af_deff>-</td>
                        <td id = table_final_deff>-</td>
                    </tr>
                    <tr>
                        <th style="text-align: left;">
                        <span>元素熟知</span>
                        </th>
                        <td id = table_base_elm>-</td>
                        <td id = table_buff_elm>-</td>
                        <td id = table_af_elm>-</td>
                        <td id = table_final_elm>-</td>
                    </tr>
                    <tr>
                        <th style="text-align: left;">
                        <span>元素チャージ効率</span>
                        </th>
                        <td id = table_base_elm_charge>-</td>
                        <td id = table_buff_elm_charge>-</td>
                        <td id = table_af_elm_charge>-</td>
                        <td id = table_final_elm_charge>-</td>
                    </tr>
                    <tr>
                        <th style="text-align: left;">
                        <span>会心率</span>
                        </th>
                        <td id = table_base_cr>-</td>
                        <td id = table_buff_cr>-</td>
                        <td id = table_af_cr>-</td>
                        <td id = table_final_cr>-</td>
                    </tr>
                    <tr>
                        <th style="text-align: left;">
                        <span>会心ダメージ</span>
                        </th>
                        <td id = table_base_cd>-</td>
                        <td id = table_buff_cd>-</td>
                        <td id = table_af_cd>-</td>
                        <td id = table_final_cd>-</td>
                    </tr>
                    <tr>
                        <th style="text-align: left;">
                        <span>ダメージバフ</span>
                        </th>
                        <td id = table_base_dmg_buff>-</td>
                        <td id = table_buff_dmg_buff>-</td>
                        <td id = table_af_dmg_buff>-</td>
                        <td id = table_final_dmg_buff>-</td>
                    </tr>
                    </tbody>
                </table> 
                </div>
            </div>
        </div>
        <br>
        <div style="height: 50px; display: flex; justify-content: center; align-items: center;">
            <div class="button_solid004" onclick="monte_carlo_calculate()">
                スコア計算開始
            </div>
        </div>
        <p id="calculationMessage" style="visibility: hidden;">計算中...</p>
        <div id="response"></div>
        <div id="result"></div>
        <br>
        <div class="wrapper">
            <div>
                <div class = "centered-container">
                <div class = "centered-div">
                    <button id = "tablebutton1" class="button-2" onclick="showTable('table1', 'tablebutton1')">各ステータス</button>
                    <button id = "tablebutton2" class="button-2" onclick="showTable('table2', 'tablebutton2')">スコア分布</button>
                    <button id = "tablebutton3" class="button-2" onclick="showTable('table3', 'tablebutton3')">サブステータス分布</button>
                </div>
                <div id="table1" class="tablestyle">
                    <!-- 表1の内容 -->
                    <table  class="status_table" style="table-layout: fixed">
                    <colgroup>
                        <col style="width: 30%;">
                        <col style="width: 35%;">
                    </colgroup>
                    <thead>
                        <tr>
                        <th></th>
                        <th>自己ステータス</th>
                        <th>最適化ステータス</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                        <th rowspan="1" style="text-align: left;">
                            <span>HP</span>
                        </th>
                        <td id = my_result_hp>-</td>
                        <td id = appro_result_hp>-</td>
                        </tr>
                        <tr>
                        <th rowspan="1" style="text-align: left;">
                            <span>攻撃力</span>
                        </th>
                        <td id = my_result_attck>-</td>
                        <td id = appro_result_attck>-</td>
                        </tr>
                        <tr>
                        <th rowspan="1" style="text-align: left;">
                            <span>防御力</span>
                        </th>
                        <td id = my_result_deff>-</td>
                        <td id = appro_result_deff>-</td>
                        </tr>
                        <tr>
                        <th rowspan="1" style="text-align: left;">
                            <span>元素熟知</span>
                        </th>
                        <td id = my_result_elm>-</td>
                        <td id = appro_result_elm>-</td>
                        </tr>
                        <tr>
                        <th rowspan="1" style="text-align: left;">
                            <span>元素チャージ効率</span>
                        </th>
                        <td id = my_result_elm_charge>-</td>
                        <td id = appro_result_elm_charge>-</td>
                        </tr>
                        <tr>
                        <th rowspan="1" style="text-align: left;">
                            <span>会心率</span>
                        </th>
                        <td id = my_result_cr>-</td>
                        <td id = appro_result_cr>-</td>
                        </tr>
                        <tr>
                        <th rowspan="1" style="text-align: left;">
                            <span>会心ダメージ</span>
                        </th>
                        <td id = my_result_cd>-</td>
                        <td id = appro_result_cd>-</td>
                        </tr>
                        <tr>
                        <th rowspan="1" style="text-align: left;">
                            <span>ダメージバフ</span>
                        </th>
                        <td id = my_result_dmg_buff>-</td>
                        <td id = appro_result_dmg_buff>-</td>
                        </tr>
                    </tbody>
                    </table>
                </div>
                <div id="table2" class="tablestyle">
                    <!-- 表2の内容 -->
                <table  class="status_table" style="table-layout: fixed">
                <colgroup>
                    <col style="width: 21%;">
                    <col style="width: 19%;">
                    <col style="width: 19%;">
                    <col style="width: 19%;">
                </colgroup>
                <thead>
                    <tr>
                    <th></th>
                    <th>自己スコア分布</th>
                    <th>最適スコア分布</th>
                    <th>聖遺物スコア差</th>
                    <th>サブステ伸び回数</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                    <th rowspan="1" style="text-align: left;">
                        <span>聖遺物スコア</span>
                    </th>
                    <td id = my_af_score>-</td>
                    <td id = appro_af_score>-</td>
                    <td id = dlt_af_score>-</td>
                    <td id = count_af_score>-</td>
                    </tr>
                    <tr>
                    <th rowspan="1" style="text-align: left;">
                        <span>HP</span>
                    </th>
                    <td id = my_hp_score>-</td>
                    <td id = appro_hp_score>-</td>
                    <td id = dlt_hp_score>-</td>
                    <td id = count_hp_score>-</td>
                    </tr>
                    <tr>
                    <th rowspan="1" style="text-align: left;">
                        <span>攻撃力</span>
                    </th>
                    <td id = my_attck_score>-</td>
                    <td id = appro_attck_score>-</td>
                    <td id = dlt_attck_score>-</td>
                    <td id = count_attck_score>-</td>
                    </tr>
                    <tr>
                    <th rowspan="1" style="text-align: left;">
                        <span>防御力</span>
                    </th>
                    <td id = my_deff_score>-</td>
                    <td id = appro_deff_score>-</td>
                    <td id = dlt_deff_score>-</td>
                    <td id = count_deff_score>-</td>
                    </tr>
                    <tr>
                    <th rowspan="1" style="text-align: left;">
                        <span>元素熟知</span>
                    </th>
                    <td id = my_elm_score>-</td>
                    <td id = appro_elm_score>-</td>
                    <td id = dlt_elm_score>-</td>
                    <td id = count_elm_score>-</td>
                    </tr>
                    <tr>
                    <th rowspan="1" style="text-align: left;">
                        <span>元素チャージ効率</span>
                    </th>
                    <td id = my_elm_charge_score>-</td>
                    <td id = appro_elm_charge_score>-</td>
                    <td id = dlt_elm_charge_score>-</td>
                    <td id = count_elm_charge_score>-</td>
                    </tr>
                    <tr>
                    <th rowspan="1" style="text-align: left;">
                        <span>会心率</span>
                    </th>
                    <td id = my_cr_score>-</td>
                    <td id = appro_cr_score>-</td>
                    <td id = dlt_cr_score>-</td>
                    <td id = count_cr_score>-</td>
                    </tr>
                    <tr>
                    <th rowspan="1" style="text-align: left;">
                        <span>会心ダメージ</span>
                    </th>
                    <td id = my_cd_score>-</td>
                    <td id = appro_cd_score>-</td>
                    <td id = dlt_cd_score>-</td>
                    <td id = count_cd_score>-</td>
                    </tr>
                </tbody>
                </table>
                </div>
                <div id="table3" class="tablestyle">
                    <!-- 表3の内容 -->
                    <table  class="status_table" style="table-layout: fixed">
                    <colgroup>
                        <col style="width: 18%;">
                        <col style="width: 23%;">
                        <col style="width: 23%;">
                        <col style="width: 18%;">
                    </colgroup>
                    <thead>
                        <tr>
                        <th></th>
                        <th>自己サブステータス分布</th>
                        <th>最適サブステータス分布</th>
                        <th>サブステータス差</th>
                        <th>サブステ伸び回数</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                        <th rowspan="1" style="text-align: left;">
                            <span>聖遺物スコア</span>
                        </th>
                        <td id = my_af_score3>-</td>
                        <td id = appro_af_score3>-</td>
                        <td id = dlt_af_score3>-</td>
                        <td id = count_af_score3>-</td>
                        </tr>
                        <tr>
                        <th rowspan="1" style="text-align: left;">
                            <span>HP</span>
                        </th>
                        <td id = my_af_hp>-</td>
                        <td id = appro_af_hp>-</td>
                        <td id = dlt_af_hp>-</td>
                        <td id = count_hp_score3>-</td>
                        </tr>
                        <tr>
                        <th rowspan="1" style="text-align: left;">
                            <span>攻撃力</span>
                        </th>
                        <td id = my_af_attck>-</td>
                        <td id = appro_af_attck>-</td>
                        <td id = dlt_af_attck>-</td>
                        <td id = count_attck_score3>-</td>
                        </tr>
                        <tr>
                        <th rowspan="1" style="text-align: left;">
                            <span>防御力</span>
                        </th>
                        <td id = my_af_deff>-</td>
                        <td id = appro_af_deff>-</td>
                        <td id = dlt_af_deff>-</td>
                        <td id = count_deff_score3>-</td>
                        </tr>
                        <tr>
                        <th rowspan="1" style="text-align: left;">
                            <span>元素熟知</span>
                        </th>
                        <td id = my_af_elm>-</td>
                        <td id = appro_af_elm>-</td>
                        <td id = dlt_af_elm>-</td>
                        <td id = count_elm_score3>-</td>
                        </tr>
                        <tr>
                        <th rowspan="1" style="text-align: left;">
                            <span>元素チャージ効率</span>
                        </th>
                        <td id = my_af_elm_charge>-</td>
                        <td id = appro_af_elm_charge>-</td>
                        <td id = dlt_af_elm_charge>-</td>
                        <td id = count_elm_charge_score3>-</td>
                        </tr>
                        <tr>
                        <th rowspan="1" style="text-align: left;">
                            <span>会心率</span>
                        </th>
                        <td id = my_af_cr>-</td>
                        <td id = appro_af_cr>-</td>
                        <td id = dlt_af_cr>-</td>
                        <td id = count_cr_score3>-</td>
                        </tr>
                        <tr>
                        <th rowspan="1" style="text-align: left;">
                            <span>会心ダメージ</span>
                        </th>
                        <td id = my_af_cd>-</td>
                        <td id = appro_af_cd>-</td>
                        <td id = dlt_af_cd>-</td>
                        <td id = count_cd_score3>-</td>
                        </tr>
                    </tbody>
                    </table>
                </div>
                </div>
            </div>
            <div>
                <div class="chart-container">
                <canvas id="myChart"></canvas>
                </div>
            </div>
        </div>
        <br>
        <br>
    </div>
    <footer>
        <p>本サイト内の画像およびデータはHoYoverse/COGNOSPHEREの著作物です。</p>
        <p> Copyright © COGNOSPHERE. All Rights Reserved.</p>
    </footer>

    <script>
        let SelectedCharId = "56";
        let selectedWeaponId = "127";
        let weapon_type_index = 4;
        const characters = [
            "該当なし", "該当なし", "神里綾華", "ジン", "該当なし", "風男主人公", "リサ", "風女主人公",
            "該当なし", "該当なし", "該当なし", "該当なし", "該当なし", "該当なし", "バーバラ", "ガイア",
            "ディルック", "該当なし", "該当なし", "該当なし", "レザー", "アンバー", "ウェンティ", "香菱",
            "北斗", "行秋", "魈", "凝光", "該当なし", "クレー", "鍾離", "フィッシュル",
            "ベネット", "タルタリヤ", "ノエル", "七七", "重雲", "甘雨", "アルベド", "ディオナ",
            "該当なし", "モナ", "刻晴", "スクロース", "辛炎", "ロサリア", "胡桃", "楓原万葉",
            "煙緋",  "宵宮", "トーマ", "エウルア", "雷電将軍", "早袖", "珊瑚宮心海", "ゴロー",
            "九条裟羅", "荒瀧一斗", "八重神子", "鹿野院平蔵", "夜蘭", "モモカ", "アーロイ", "申鶴",
            "雲菫", "忍", "神里綾人", "コレイ", "ドリー", "ティナリ", "ニィロウ", "セノ",
            "キャンディス", "ナヒーダ", "レイラ", "放浪者", "ファルザン", "ヨォーヨ", "アルハイゼン", "ディシア",
            "ミカ", "カーヴェ", "白朮", "リネット", "リネ", "フレミネ", "リオセスリ", "ヌヴィレット",
            "シャルロット", "フリーナ", "シュヴルーズ", "ナヴィア", "嘉明", "閑雲", "千織"
        ];

        const char_flag = [
            0, 0, 1, 0, 0, 0, 1, 0, 0, 0,
            0, 0, 0, 0, 0, 1, 1, 0, 0, 0,
            1, 1, 0, 1, 1, 1, 1, 1, 0, 1,
            1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 
            0, 0, 1, 0, 1, 1, 1, 0, 1, 1, 
            0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 
            1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 
            1, 1, 0, 1, 0, 1, 1, 0, 1, 1,
            0, 0, 0, 0, 1, 0, 1, 1, 0, 1, 
            0, 1, 1, 0, 0
        ];

        const characterImages = [
            "",
            "",
            "../character/kamisatoayaka.webp",
            "",
            "",
            "",
            "../character/lisa.jpg",
            "",
            "",
            "",
            "",
            "",
            "",
            "",
            "",
            "../character/kaeya.jpg",
            "../character/diluc.jpg",
            "",
            "",
            "",
            "../character/razor.jpg",
            "../character/amber.jpg",
            "",
            "../character/xiangling.webp",
            "../character/beidou.webp",
            "../character/xingqiu.webp",
            "../character/xiao.webp",
            "../character/ningguang.webp",
            "",
            "../character/klee.webp",
            "../character/zhongli.webp",
            "../character/fischl.webp",
            "../character/bennett.webp",
            "../character/tartaglia.webp",
            "../character/noelle.jpg",
            "",
            "../character/chongyun.webp",
            "../character/ganyu.webp",
            "../character/albedo.jpg",
            "",
            "",
            "",
            "../character/keqing.jpg",
            "",
            "../character/xinyan.webp",
            "../character/rosaria.webp",
            "../character/hutao.jpg",
            "",
            "../character/yanfei.webp",
            "../character/yoimiya.webp",
            "",
            "../character/eula.webp",
            "../character/raidenshougun.jpg",
            "",
            "",
            "",
            "../character/kujousara.jpg",
            "../character/aratakiitto.webp",
            "../character/yaemiko.webp",
            "../character/shikanoinheizou.webp",
            "../character/yelan.webp",
            "./character/kirara.webp",
            "",
            "",
            "",
            "",
            "../character/kamisatoayato.jpg",
            "",
            "",
            "../character/tighnari.webp",
            "../character/nirou.webp",
            "../character/cyno.jpg",
            "",
            "../character/nahida.webp",
            "",
            "../character/wanderer.webp",
            "../character/faruzan.webp",
            "",
            "../character/alhaitham.webp",
            "../character/dehya.webp",
            "",
            "",
            "",
            "",
            "../character/Lyney.webp",
            "",
            "../character/Wriothesley.webp",
            "../character/Neuvillette.webp",
            "",
            "../character/Furina.webp",
            "",
            "../character/Navia.webp",
            "../character/gaming.webp",
            "",
            "",
        ];

        let UserData;

        // fetchData() 関数を定義
        async function fetchData() {
            let ErrorId;
            const img_grid = document.getElementById("imageGrid");
            img_grid.innerHTML = "";
            const uid = document.getElementById('uidInput').value.trim(); // 先頭と末尾の空白を削除

            // uidが空白の場合はメッセージを表示して処理を中断
            if (uid === '') {
                const nicknameElement = document.getElementById('nickname');
                nicknameElement.textContent = "UIDを入力してください";
                return;
            }

            const url = `https://asia-northeast1-numeric-cinema-417315.cloudfunctions.net/ImportEnkaApi?uid=${uid}`;

            try {
                const response = await fetch(url);
                ErrorId = response.status;

                if (!response.ok) {
                    throw new Error('Failed to fetch data');
                }
                let char_ids = [];
                let char_names = [];
                UserData = await response.json();
                console.log(UserData);
                // ニックネームをHTMLに出力する
                const nicknameElement = document.getElementById('nickname');
                const avatarIds = UserData.data.playerInfo.showAvatarInfoList.map(info => info.avatarId);
                console.log(avatarIds);
                nicknameElement.innerHTML = "ユーザーネーム：" + UserData.data.playerInfo.nickname +
                             "<br>" +
                             "取得アチーブメント数：" + UserData.data.playerInfo.finishAchievementNum + 
                             "<br>" +
                             "キャラクターID：" + avatarIds;
                
                for (let i = 0; i < avatarIds.length; i++)
                {
                    let charId = parseInt(avatarIds[i]) - 10000000;
                    let CharAdvanceLevel = UserData.data.avatarInfoList[i].propMap["1002"].val;
                    if(char_flag[charId] == 1 && CharAdvanceLevel > 3)
                    {
                        char_names.push(characters[charId]);
                        char_ids.push(charId);
                    }
                }
                console.log(char_names);
                console.log(char_ids);
                const images = [];

                // 画像を生成して配列に追加
                for (let i = 0; i < char_ids.length; i++) {
                    const image = {
                        src: characterImages[char_ids[i]],
                        alt: `Image ${i}`,
                        id: char_ids[i] * 10 + i // 画像に割り当てるID属性を生成
                        
                    };
                    images.push(image);
                }
                console.log(images);
                // 画像要素を生成し、動的にHTMLに追加する
                const imageGrid = document.getElementById("imageGrid");
                images.forEach(image => {
                    const imgElement = document.createElement("img");
                    imgElement.src = image.src;
                    imgElement.alt = image.alt;
                    imgElement.id = image.id; // 画像にID属性を設定
                    imgElement.addEventListener("click", function() {
                        // クリックされた画像のsrc属性を取得
                        const imageUrl = this.src;
                        const CharId = this.id;
                        const CharSortOrder = CharId % 10; // 10で割った余りを取得 // 文字列に変換し、最後の文字を取得
                        // 画像を表示するdiv要素を取得
                        const digits = String(CharId); // 数値を文字列に変換
                        const upperDigits = digits.substring(0, 2); // 上位2桁を取り出す
                        SelectedCharId = parseInt(upperDigits); // 文字列を数値に変換
                        const imageContainer = document.getElementById("CharImage");
                        DisplayCharStatus(CharSortOrder);
                        // 画像を置き換える
                        const existingImage = imageContainer.querySelector("img");
                        if (existingImage) {
                            existingImage.src = imageUrl;
                            existingImage.alt = "Clicked Image";
                        } else {
                            // 既存の画像が存在しない場合は新しい画像を追加
                            const imageElement = document.createElement("img");
                            imageElement.src = imageUrl;
                            imageElement.alt = "Clicked Image";
                            imageContainer.appendChild(imageElement);
                        }
                    });
                    imageGrid.appendChild(imgElement);
                });
            } catch (error) {
                if(ErrorId == 500)
                {
                    const nicknameElement = document.getElementById('nickname');
                    nicknameElement.textContent = "EnkaNetWorkサーバーのエラー";
                }
                else
                {
                    console.error('Error fetching data:', error);
                    const nicknameElement = document.getElementById('nickname');
                    nicknameElement.textContent = "入力したUIDに問題があるようです。";
                }
                return;
            }
        }

        function DisplayCharStatus(SortOrder){
            // SortOrder の値が有効なインデックスであることを確認
            if (SortOrder >= 0 && SortOrder < UserData.data.avatarInfoList.length)
            {
                let CharLevel = UserData.data.avatarInfoList[SortOrder].propMap["4001"].val;
                // talentIdList が存在するかどうかを確認し、その長さを取得
                let CharConstellations = UserData.data.avatarInfoList[SortOrder].talentIdList ? UserData.data.avatarInfoList[SortOrder].talentIdList.length : 0;
                const LevelDisplay = document.getElementById("CharLevel");
                const ConsteDisplay = document.getElementById("CharConstellations");
                LevelDisplay.innerHTML = "Lv." + CharLevel;
                ConsteDisplay.innerHTML = "C" + CharConstellations;
            }
            else
            {
                console.error("Invalid SortOrder value");
            }
        }


// ボタンをクリックしたときに fetchData() 関数を実行する
document.getElementById('fetchButton').onclick = function() {
    fetchData();
};

    </script>
</body>
</html>
